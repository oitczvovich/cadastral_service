## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ

üîπ Python
üîπ Fastapi
üîπ Fastapi-Admin
üîπ SQLite
üîπ Docker-Compose
üîπ SQLAlchemy
## –û–ø–∏—Å–∞–Ω–∏–µ
1. –°–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞, —à–∏—Ä–æ—Ç—ã –∏ –¥–æ–ª–≥–æ—Ç—ã, —ç–º—É–ª–∏—Ä—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –¥–æ 60 —Å–µ–∫—É–Ω–¥. –ó–∞—Ç–µ–º –¥–æ–ª–∂–µ–Ω –æ—Ç–¥–∞–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞. –í–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å 1 - `true` –∏–ª–∏ 0 - `false`.

2. –î–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –æ—Ç–≤–µ—Ç —Å –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å –≤ –ë–î. 

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∞–¥—Ä–µ—Å–∞–º: 
    
    - –û—Å–Ω–æ–≤–Ω–æ–µ cadastral_service:  
    `0.0.0.0:8000/api/`   

    - –≠–º—É–ª—è—Ç–æ—Ä –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:
    `0.0.0.0:8080/`
_______

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –ø–æ –∞–¥—Ä–µ—Å—É /docs/   

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å 0.0.0.0:8000/api/
   - "/query" - POST - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.

   - ‚Äú/result" GET - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏–∑ –ë–î –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

   - "/ping" GET - –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ  —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è.

   - ‚Äú/history‚Äù GET - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–∞ –≤–Ω–µ—à–Ω–µ–º —Å–µ—Ä–≤–µ—Ä–µ  0.0.0.0:8080/

   - "/need_result" GET - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1 - `true` –∏–ª–∏ 0 - `false`. –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç 1 –¥–æ 60 —Å–µ–∫—É–Ω–¥.   
   - "/ping" GET - –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ  —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è


## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –°–∫–∞—á–∞—Ç—å –æ–±—Ä–∞–∑ –ø—Ä–æ–µ–∫—Ç–∞.
```bash
git clone https://github.com/oitczvovich/cadastral_service
```

## –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ venv –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

``` bash
python3 -m venv venv

source venv/bin/activate

pip install -r requirements_by_test.txt
```

–í—ã–∑–≤–∞—Ç—å —Ç–µ—Å—Ç—ã –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç—ã –≥–¥–µ –ª–µ–∂–∏—Ç —Ñ–∞–π–ª pytest.ini

```bash
pytest
```

–î–æ–∂–¥–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–Ω—Ç—Å–∞–ª—è—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞.
_________

P.S. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ —Ä–∞–±–æ—á–µ–π –º–∞—à–∏–Ω–µ –µ—Å—Ç—å Docker –∏ Docker-compose, –∏–Ω–∞—á–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏—Ö.

```bash
sudo apt install docker.io 
sudo curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç—å–µ —Å–±–æ—Ä–∫—É.
```bash
docker-compose up -d
```

3. –í–æ–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä  cadastral.
```bash
docker-compose exec cadastral bash
```

4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é.
```bash
alembic upgrade head
```

5. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. 
```bash
sqlite3 data/cadastral.db
```

6. –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
BEGIN;
INSERT INTO user (username, password, is_superuser, is_active) VALUES ('admin', '<password>', 1, 1);
COMMIT;
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í –ø–∞–ø–∫–µ app_cadastral —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª cadastral_log –∫—É–¥–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ª–æ–≥–∏ c —É—Ä–æ–≤–Ω—è INFO 


## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

`0.0.0.0:8000/docs/`   

`0.0.0.0:8080/docs/`  


## –ê–≤—Ç–æ—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
### –°–∫–∞–ª–∞—Ü–∫–∏–π –í–ª–∞–¥–∏–º–∏—Ä
e-mail: skalakcii@yandex.ru<br>
https://github.com/oitczvovi<br>
Telegramm: @OitcZvovich
